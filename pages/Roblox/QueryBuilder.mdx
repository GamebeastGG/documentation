import YoutubeEmbed from 'components/YoutubeEmbed';

import { Tabs } from 'nextra/components'

# Query Builder & Boards

The query builder is a great way to view and analyze the markers sent to Gamebeast from your experience. With the query builder, you can filter and group your markers to create custom visualizations that help you understand how players are interacting with your experience.

<YoutubeEmbed embedId="btXB5SiIWXo"/>

## Creating a query board
To visualize marker data from your experience, navigate to the `Boards` page in the Gamebeast dashboard.
Boards are how you organize your queries. You can create multiple boards to group your queries by different categories or use cases.

To create a new board, click the `New Board` button in the top left corner of the `Boards` page, and give your board a name.

### Adding a query visualization

Once you've created a board, you can click "Add to board" to add a new query visualization to your board.

On the right side of visualization setup, you can configure the data source (Metric) for your query and group your markers by various properties & arguments

#### Metrics

The metrics field is where you select your data source for the query. You can choose from a list of available metrics, such as player joins, player leaves, and custom markers sent from your experience.

![Metrics](/imgs/roblox/querybuilder/metrics.png)


##### Metric Types

Metrics have different types that determine how the data is aggregated and displayed in the visualization.

<Tabs items={["Events", "Stats", "Formulas"]}>
    <Tabs.Tab>
        These are the default and custom event markers you send from your experience, such as `Login` and `Logout`.

        Event type metrics allow you to aggregrate data in more advanced ways, such as Frequency per User, or even more complex calculations such as Monthly Active Users.

        ![Metrics](/imgs/roblox/querybuilder/metricType.png)

    </Tabs.Tab>
    <Tabs.Tab>
        These are generated datapoints from Gamebeast that are derived from other experience data such as CCU, and server information.

        Stat type metrics are generalized and arent tied back to specific players, so they cant be used for user-based calculations like Frequency per User, but can be used for simpler aggregations like Sum, Average, Min, and Max.
    </Tabs.Tab>
    <Tabs.Tab>
        Formulas allow you to create custom calculations derived from existing metrics.

        For example, if you wanted to calculate the stickiness for your experience using DAU (Metric A) and MAU (Metric B), you could create a the following formula:

        ```
        (A / B) * 100
        ```

        The resulting metric appears as a new line in your visualization. You can then isolate this metric by togglng the visibility of other metrics.

        ![Local filter](/imgs/roblox/querybuilder/formulas.png)
    </Tabs.Tab>

</Tabs>

##### Local Filters
Local filters allow you to filter a specific metric in the query by its properties, arguments or experiments.

See global filters below for more information on the available filter options.

![Local filter](/imgs/roblox/querybuilder/local-filter.png)

#### Global Filters

Similar to Local Filters, Global filters allow you to filter **all** of your metrics by a shared property, argument, or experiment.

- **Property**: Provided automatically by Gamebeast, has general global information about the marker, such as `Country`, `Device`, `Language`, etc.
- **Argument**: Custom arguments that you have sent with your markers, such as a `Level`, `ItemName` or any other custom data you want to track.
- **Experiment**: If you have [experiments](/Roblox/Experiments) running in your experience, you can filter your data by the experiment name to see how different variations are performing.

#### Breakdowns

Finally, breakdowns allow you visualize your data by variations in a specific property or argument.

For example, here is a breakdown of the `Country` property, which will show you how many players from each country have joined your experience.

![Breakdowns Example](/imgs/roblox/querybuilder/breakdownExample.png)

### Configuring the visualization
At the top of the visualization preview, you can filter the data by time range, and choose from a variety of visualization types, such as line charts, bar charts, and column charts.

![Chart types](/imgs/roblox/querybuilder/chart-types.png)